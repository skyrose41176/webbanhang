
@using X.PagedList.Mvc.Core;
@using X.PagedList;
@using X.PagedList.Mvc.Common;
@model IPagedList<WebShop.Models.Product>
@{
    ViewData["Title"] = "Index";
}



<div class="breadcrumb-area">
    <div class="container">
        <div class="breadcrumb-content">
            <ul>
                <li><a asp-controller="Home" asp-action="Index">Home</a></li>
                <li class="active">Product</li>
            </ul>
        </div>
    </div>
</div>
<!-- Li's Breadcrumb Area End Here -->
<!-- Begin Li's Content Wraper Area -->
<div class="content-wraper pt-60 pb-60 pt-sm-30">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 order-1 order-lg-2">
                <!-- Begin Li's Banner Area -->
                <div class="single-banner shop-page-banner">
                    <a href="#">
                        <img src="images/bg-banner/2.jpg" alt="Li's Static Banner">
                    </a>
                </div>
                <!-- Li's Banner Area End Here -->
                <!-- shop-top-bar start -->
                <div class="shop-top-bar mt-30">
                    <div class="shop-bar-inner">
                        <div class="product-view-mode">
                            <!-- shop-item-filter-list start -->
                            <ul class="nav shop-item-filter-list" role="tablist">
                                <li class="active" role="presentation"><a aria-selected="true" class="active show" data-toggle="tab" role="tab" aria-controls="grid-view" href="#grid-view"><i class="fa fa-th"></i></a></li>
                                <li role="presentation"><a data-toggle="tab" role="tab" aria-controls="list-view" href="#list-view"><i class="fa fa-th-list"></i></a></li>
                            </ul>
                            <!-- shop-item-filter-list end -->
                        </div>
                    </div>
                    <div class="product-short">
                        <p>Sort By:</p>
                    </div>
                    <div class="product-short">
                        <p>@Html.ActionLink("Name (A - Z)", "Index", new { Sort = ViewBag.NameSortParm1,currentFilter=ViewBag.CurrentFilter,Price = ViewBag.CurrentPrice , Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</p>
                    </div>
                    <div class="product-short">
                        <p>@Html.ActionLink("Name (Z - A)", "Index", new { Sort = ViewBag.NameSortParm ,currentFilter=ViewBag.CurrentFilter,Price = ViewBag.CurrentPrice, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</p>
                    </div>
                    <div class="product-short">
                        <p>@Html.ActionLink("Price (Higt - Low)", "Index", new { Sort = ViewBag.PriceSortParm ,currentFilter=ViewBag.CurrentFilter,Price = ViewBag.CurrentPrice, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</p>
                    </div>
                    <div class="product-short">
                        <p>@Html.ActionLink("Price (Low - Hight)", "Index", new { Sort = ViewBag.PriceSortParm1 ,currentFilter=ViewBag.CurrentFilter,Price = ViewBag.CurrentPrice, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</p>
                    </div>
                    <!-- product-select-box end -->
                </div>
                <!-- shop-top-bar end -->
                <!-- shop-products-wrapper start -->
                <div class="shop-products-wrapper">
                    <div class="tab-content">
                        <div id="grid-view" class="tab-pane fade active show" role="tabpanel">
                            <div class="product-area shop-product-area">
                                <div class="row">
                                    @foreach (var item in Model)
                                    {

                                        <div class="col-lg-4 col-md-4 col-sm-6 mt-40">
                                            <!-- single-product-wrap start -->
                                            <div class="single-product-wrap">
                                                <div class="product-image">
                                                    <a asp-action="Details" asp-route-id="@item.Id">
                                                        <img src="~/images/product/large-size/all/@item.Image" alt="Product Image">
                                                    </a>
                                                </div>
                                                <div class="product_desc">
                                                    <div class="product_desc_info">
                                                        <div class="product-review">
                                                            <h5 class="manufacturer">
                                                                <a href="">Graphic Corner</a>
                                                            </h5>
                                                            <div class="rating-box">
                                                                <ul class="rating">
                                                                    <li><i class="fa fa-star-o"></i></li>
                                                                    <li><i class="fa fa-star-o"></i></li>
                                                                    <li><i class="fa fa-star-o"></i></li>
                                                                    <li class="no-star"><i class="fa fa-star-o"></i></li>
                                                                    <li class="no-star"><i class="fa fa-star-o"></i></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <h4>
                                                            <a class="product_name" asp-action="Details" asp-route-id="@item.Id">
                                                                @Html.DisplayFor(modelItem => item.Productname)
                                                            </a>
                                                        </h4>
                                                        <div class="price-box">
                                                            <span class="new-price">
                                                                @string.Format("{0:N0}", @item.Price)VNĐ
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="add-actions">
                                                        <ul class="add-actions-link">
                                                            @if(@item.Amount == 0){
                                                                <li class="add-cart disable"><a>Sold out</a></li>
                                                            }else{
                                                                <li class="add-cart active"><a  asp-action="AddtoCart" asp-route-id="@item.Id">Add to cart</a></li>
                                                            }
                                                            <li><a class="links-details" asp-action="AddtoWish" asp-route-id="@item.Id"><i class="fa fa-heart-o"></i></a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- single-product-wrap end -->
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                        <div id="list-view" class="tab-pane fade product-list-view" role="tabpanel">
                            <div class="row">
                                <div class="col">
                                    @foreach (var item in Model)
                                    {
                                    <div class="row product-layout-list">
                                        <div class="col-lg-3 col-md-5 ">
                                            <div class="product-image">
                                                <a asp-action="Details" asp-route-id="@item.Id">
                                                    <img src="~/images/product/large-size/All/@item.Image" alt="Li's Product Image">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-lg-5 col-md-7">
                                            <div class="product_desc">
                                                <div class="product_desc_info">
                                                    <div class="product-review">
                                                        <h5 class="manufacturer">
                                                            <a href="product-details.html">Graphic Corner</a>
                                                        </h5>
                                                        <div class="rating-box">
                                                            <ul class="rating">
                                                                <li><i class="fa fa-star-o"></i></li>
                                                                <li><i class="fa fa-star-o"></i></li>
                                                                <li><i class="fa fa-star-o"></i></li>
                                                                <li class="no-star"><i class="fa fa-star-o"></i></li>
                                                                <li class="no-star"><i class="fa fa-star-o"></i></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <h4><a class="product_name" asp-action="Details" asp-route-id="@item.Id">@Html.DisplayFor(modelItem => item.Productname)</a></h4>
                                                    <div class="price-box">
                                                        <span class="new-price">@string.Format("{0:N0}", @item.Price)VNĐ</span>
                                                    </div>
                                                    <p>
                                                        @Html.DisplayFor(modelItem => item.Detail)
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="shop-add-action mb-xs-30">
                                                <ul class="add-actions-link">
                                                    <li class="add-cart"><a asp-action="AddtoCart" asp-route-id="@item.Id">Add to cart</a></li>
                                                    <li class="wishlist"><a asp-action="AddtoWish" asp-route-id="@item.Id"><i class="fa fa-heart-o"></i>Add to wishlist</a></li>
                                                   </ul>
                                            </div>
                                        </div>
                                    </div>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="paginatoin-area">
                            <div class="row">
                                <div class="col-lg-6 col-md-6">
                                        <p> @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) -- @Model.PageCount</p>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                     
                                   
                                    @Html.PagedListPager(Model, page => Url.Action("Index",
                                    new { page, Sort = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter,Price = ViewBag.CurrentPrice, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch }),
                                    new PagedListRenderOptions
                                        {                       
                                            DisplayLinkToIndividualPages = true,
                                            DisplayPageCountAndCurrentLocation = false,
                                            MaximumPageNumbersToDisplay = 10,
                                            FunctionToDisplayEachPageNumber = null,
                                            LinkToPreviousPageFormat = "<i class='fa fa-chevron-left'></i>Previous",
                                            LinkToNextPageFormat = "Next<i class='fa fa-chevron-right'></i>",
                                            ClassToApplyToFirstListItemInPager = "Previous",
			                                ClassToApplyToLastListItemInPager = "Next",
                                            UlElementClasses = new[] { "pagination-box" },
                                            LiElementClasses = new string[] { "" },
                                            PageClasses = new string[] { "" }
                                        }
                                    )
                                     </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- shop-products-wrapper end -->
            </div>
            <div class="col-lg-3 order-2 order-lg-1">
                <!--sidebar-categores-box start  -->
                <div class="sidebar-categores-box mt-sm-30 mt-xs-30">
                    <div class="sidebar-title">
                        <h2>Category</h2>
                    </div>
                    <!-- category-sub-menu start -->
                    <div class="category-sub-menu">
                        <ul>
                            @foreach (var item in @ViewBag.type)
                            {
                                <li class="has-sub">
                                <a href="# ">@item.TypeName</a>
                                <ul>
                                    @foreach (var item1 in @ViewBag.cate)
                                    {
                                        @if(@item.Id == @item1.Type_Id)
                                        {
                                            <li>@Html.ActionLink( (string)@item1.CategoryName, "Index", new { Cate =  (string)@item1.CategoryName , Price = ViewBag.CurrentPrice ,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort})</li>
                                        }
                                    }
                                </ul>
                                </li>                          
                            }
                        </ul>
                    </div>
                    <!-- category-sub-menu end -->
                </div>
                <!--sidebar-categores-box end  -->
                <!--sidebar-categores-box start  -->
                <div class="sidebar-categores-box">
                    <div class="sidebar-title">
                        <h2>Filter By</h2>
                    </div>
                    <!-- btn-clear-all start -->
                    <button class="btn-clear-all mb-sm-30 mb-xs-30">@Html.ActionLink("Clear", "Index", new { Price = ViewBag.ClearAll,currentFilter=ViewBag.CurrentFilter})</button>
                    <!-- btn-clear-all end -->
                    <!-- filter-sub-area start -->
                    <div class="filter-sub-area pt-sm-10 pt-xs-10">
                        <h5 class="filter-sub-titel">Price</h5>
                        <div class="size-checkbox">
                            <form action="#">
                                <ul>
                                    @if(@ViewBag.CurrentPrice == "0 - 1M"){
                                        <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("0 - 1M", "Index", new { Price = ViewBag.PriceProduct,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("0 - 1M", "Index", new { Price = ViewBag.PriceProduct,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                    @if(@ViewBag.CurrentPrice == "1M - 2M"){
                                    <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("1M - 2M", "Index", new { Price = ViewBag.PriceProduct1,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("1M - 2M", "Index", new { Price = ViewBag.PriceProduct1,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                    @if(@ViewBag.CurrentPrice == "2M - 3M"){
                                    <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("2M - 3M", "Index", new { Price = ViewBag.PriceProduct2,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("2M - 3M", "Index", new { Price = ViewBag.PriceProduct2,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                    @if(@ViewBag.CurrentPrice == "3M - 5M"){
                                    <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("3M - 5M", "Index", new { Price = ViewBag.PriceProduct3,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("3M - 5M", "Index", new { Price = ViewBag.PriceProduct3,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                    @if(@ViewBag.CurrentPrice == "5M - 10M"){
                                    <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("5M - 10M", "Index", new { Price = ViewBag.PriceProduct4,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("5M - 10M", "Index", new { Price = ViewBag.PriceProduct4,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                    @if(@ViewBag.CurrentPrice == "10M - 15M"){
                                    <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("10M - 15M", "Index", new { Price = ViewBag.PriceProduct5,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("10M - 15M", "Index", new { Price = ViewBag.PriceProduct5,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                    @if(@ViewBag.CurrentPrice == "15M >>"){
                                    <li><input type="checkbox" name="product-size" checked>@Html.ActionLink("15M >>", "Index", new { Price = ViewBag.PriceProduct6,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }else{
                                    <li><input type="checkbox" name="product-size">@Html.ActionLink("15M >>", "Index", new { Price = ViewBag.PriceProduct6,currentFilter=ViewBag.CurrentFilter,Sort = ViewBag.CurrentSort, Cate = ViewBag.CurrentCate, catesearch = ViewBag.Currentcatesearch})</li>
                                    }
                                </ul>
                            </form>
                        </div>
                    </div>
                    <!-- filter-sub-area end -->
                </div>
                <!--sidebar-categores-box end  -->
                
            </div>
        </div>
    </div>
</div>
